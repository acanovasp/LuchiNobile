{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/SplashScreen.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\n\ninterface SplashScreenProps {\n  vimeoIds: string[]\n  onComplete: () => void\n  minDuration?: number\n}\n\nconst LOGO_TEXT = 'Luchi Nóbile'\nconst TYPING_DURATION = 1200 // 1.2s for typing (faster)\nconst HOLD_DURATION = 1500 // 1.5s hold after typing\nconst LOGO_FADE_DURATION = 800 // logo fades in 0.8s\nconst LOGO_HEAD_START = 1000 // logo starts fading 1s before background\nconst BG_FADE_DURATION = 1200 // background fades in 1.2s\n\nexport default function SplashScreen({\n  vimeoIds,\n  onComplete,\n  minDuration = 3500,\n}: SplashScreenProps) {\n  const [displayedText, setDisplayedText] = useState('')\n  const [isLogoFading, setIsLogoFading] = useState(false)\n  const [isBgFading, setIsBgFading] = useState(false)\n  const [isHidden, setIsHidden] = useState(false)\n\n  const preloadVimeoVideos = useCallback(async (ids: string[]) => {\n    const preloadPromises = ids.slice(0, 3).map((id) => {\n      return new Promise<void>((resolve) => {\n        const iframe = document.createElement('iframe')\n        iframe.style.position = 'absolute'\n        iframe.style.top = '-9999px'\n        iframe.style.left = '-9999px'\n        iframe.style.width = '1px'\n        iframe.style.height = '1px'\n        iframe.style.opacity = '0'\n        iframe.style.pointerEvents = 'none'\n        iframe.src = `https://player.vimeo.com/video/${id}?background=1&autoplay=0&loop=1&muted=1&quality=1080p`\n        iframe.setAttribute('loading', 'eager')\n        \n        iframe.onload = () => resolve()\n        iframe.onerror = () => resolve()\n\n        document.body.appendChild(iframe)\n        setTimeout(resolve, 5000)\n      })\n    })\n\n    await Promise.all(preloadPromises)\n  }, [])\n\n  // Typing animation\n  useEffect(() => {\n    let currentIndex = 0\n    const charDelay = TYPING_DURATION / LOGO_TEXT.length\n\n    const typeInterval = setInterval(() => {\n      currentIndex++\n      setDisplayedText(LOGO_TEXT.slice(0, currentIndex))\n      \n      if (currentIndex >= LOGO_TEXT.length) {\n        clearInterval(typeInterval)\n      }\n    }, charDelay)\n\n    return () => clearInterval(typeInterval)\n  }, [])\n\n  // Main sequence\n  useEffect(() => {\n    const startTime = Date.now()\n\n    const runSequence = async () => {\n      // Preload videos in parallel with animation\n      await preloadVimeoVideos(vimeoIds)\n\n      // Wait for minimum duration (typing + hold)\n      const elapsed = Date.now() - startTime\n      const totalAnimationTime = TYPING_DURATION + HOLD_DURATION\n      const remaining = Math.max(0, Math.max(minDuration, totalAnimationTime) - elapsed)\n\n      await new Promise(resolve => setTimeout(resolve, remaining))\n\n      // Start logo fade first\n      setIsLogoFading(true)\n\n      // Start background fade 1 second later\n      setTimeout(() => {\n        setIsBgFading(true)\n      }, LOGO_HEAD_START)\n\n      // Hide and complete after background fade finishes\n      setTimeout(() => {\n        setIsHidden(true)\n        onComplete()\n      }, LOGO_HEAD_START + BG_FADE_DURATION)\n    }\n\n    runSequence()\n  }, [vimeoIds, minDuration, onComplete, preloadVimeoVideos])\n\n  if (isHidden) return null\n\n  return (\n    <div className={`splash ${isBgFading ? 'splash--fading' : ''}`}>\n      <h1 className={`splash__logo ${isLogoFading ? 'splash__logo--fading' : ''}`}>\n        {displayedText}\n      </h1>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUA,MAAM,YAAY;AAClB,MAAM,kBAAkB,KAAK,2BAA2B;;AACxD,MAAM,gBAAgB,KAAK,yBAAyB;;AACpD,MAAM,qBAAqB,IAAI,qBAAqB;;AACpD,MAAM,kBAAkB,KAAK,0CAA0C;;AACvE,MAAM,mBAAmB,KAAK,2BAA2B;;AAE1C,SAAS,aAAa,EACnC,QAAQ,EACR,UAAU,EACV,cAAc,IAAI,EACA;IAClB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,qBAAqB,IAAA,oNAAW,EAAC,OAAO;QAC5C,MAAM,kBAAkB,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YAC3C,OAAO,IAAI,QAAc,CAAC;gBACxB,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,OAAO,KAAK,CAAC,QAAQ,GAAG;gBACxB,OAAO,KAAK,CAAC,GAAG,GAAG;gBACnB,OAAO,KAAK,CAAC,IAAI,GAAG;gBACpB,OAAO,KAAK,CAAC,KAAK,GAAG;gBACrB,OAAO,KAAK,CAAC,MAAM,GAAG;gBACtB,OAAO,KAAK,CAAC,OAAO,GAAG;gBACvB,OAAO,KAAK,CAAC,aAAa,GAAG;gBAC7B,OAAO,GAAG,GAAG,CAAC,+BAA+B,EAAE,GAAG,qDAAqD,CAAC;gBACxG,OAAO,YAAY,CAAC,WAAW;gBAE/B,OAAO,MAAM,GAAG,IAAM;gBACtB,OAAO,OAAO,GAAG,IAAM;gBAEvB,SAAS,IAAI,CAAC,WAAW,CAAC;gBAC1B,WAAW,SAAS;YACtB;QACF;QAEA,MAAM,QAAQ,GAAG,CAAC;IACpB,GAAG,EAAE;IAEL,mBAAmB;IACnB,IAAA,kNAAS,EAAC;QACR,IAAI,eAAe;QACnB,MAAM,YAAY,kBAAkB,UAAU,MAAM;QAEpD,MAAM,eAAe,YAAY;YAC/B;YACA,iBAAiB,UAAU,KAAK,CAAC,GAAG;YAEpC,IAAI,gBAAgB,UAAU,MAAM,EAAE;gBACpC,cAAc;YAChB;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,gBAAgB;IAChB,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,KAAK,GAAG;QAE1B,MAAM,cAAc;YAClB,4CAA4C;YAC5C,MAAM,mBAAmB;YAEzB,4CAA4C;YAC5C,MAAM,UAAU,KAAK,GAAG,KAAK;YAC7B,MAAM,qBAAqB,kBAAkB;YAC7C,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,aAAa,sBAAsB;YAE1E,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YAEjD,wBAAwB;YACxB,gBAAgB;YAEhB,uCAAuC;YACvC,WAAW;gBACT,cAAc;YAChB,GAAG;YAEH,mDAAmD;YACnD,WAAW;gBACT,YAAY;gBACZ;YACF,GAAG,kBAAkB;QACvB;QAEA;IACF,GAAG;QAAC;QAAU;QAAa;QAAY;KAAmB;IAE1D,IAAI,UAAU,OAAO;IAErB,qBACE,8OAAC;QAAI,WAAW,CAAC,OAAO,EAAE,aAAa,mBAAmB,IAAI;kBAC5D,cAAA,8OAAC;YAAG,WAAW,CAAC,aAAa,EAAE,eAAe,yBAAyB,IAAI;sBACxE;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/ScrollContainer.tsx"],"sourcesContent":["'use client'\n\nimport {\n  useRef,\n  useEffect,\n  useState,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react'\n\ninterface ScrollContextValue {\n  currentSection: number\n  totalSections: number\n  scrollToSection: (index: number) => void\n  isAtTop: boolean\n  containerRef: React.RefObject<HTMLDivElement | null>\n}\n\nconst ScrollContext = createContext<ScrollContextValue | null>(null)\n\nexport function useScrollContext() {\n  const context = useContext(ScrollContext)\n  if (!context) {\n    throw new Error('useScrollContext must be used within ScrollContainer')\n  }\n  return context\n}\n\ninterface ScrollContainerProps {\n  children: React.ReactNode\n  initialSection?: number\n  onSectionChange?: (section: number) => void\n}\n\nexport default function ScrollContainer({\n  children,\n  initialSection = 0,\n  onSectionChange,\n}: ScrollContainerProps) {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [currentSection, setCurrentSection] = useState(initialSection)\n  const [isAtTop, setIsAtTop] = useState(false)\n  const [totalSections, setTotalSections] = useState(0)\n\n  // Count sections on mount\n  useEffect(() => {\n    const container = containerRef.current\n    if (!container) return\n\n    const sections = container.querySelectorAll('.section')\n    setTotalSections(sections.length)\n  }, [children])\n\n  // Scroll to initial section on mount\n  useEffect(() => {\n    const container = containerRef.current\n    if (!container) return\n\n    const sections = container.querySelectorAll('.section')\n    if (sections[initialSection]) {\n      setTimeout(() => {\n        const section = sections[initialSection] as HTMLElement\n        container.scrollTo({\n          top: section.offsetTop,\n          behavior: 'instant',\n        })\n      }, 100)\n    }\n  }, [initialSection])\n\n  // Detect current section based on scroll position\n  useEffect(() => {\n    const container = containerRef.current\n    if (!container) return\n\n    const handleScroll = () => {\n      const sections = container.querySelectorAll('.section')\n      const scrollTop = container.scrollTop\n      const viewportHeight = container.clientHeight\n      \n      // Find which section the middle of the viewport is in\n      const viewportMiddle = scrollTop + viewportHeight / 2\n      \n      let activeIndex = 0\n      sections.forEach((section, index) => {\n        const sectionElement = section as HTMLElement\n        const sectionTop = sectionElement.offsetTop\n        const sectionBottom = sectionTop + sectionElement.offsetHeight\n        \n        if (viewportMiddle >= sectionTop && viewportMiddle < sectionBottom) {\n          activeIndex = index\n        }\n      })\n      \n      if (activeIndex !== currentSection) {\n        setCurrentSection(activeIndex)\n        onSectionChange?.(activeIndex)\n      }\n    }\n\n    container.addEventListener('scroll', handleScroll, { passive: true })\n    handleScroll() // Initial check\n    \n    return () => container.removeEventListener('scroll', handleScroll)\n  }, [children, onSectionChange, currentSection])\n\n  // Track if at top of scroll\n  useEffect(() => {\n    const container = containerRef.current\n    if (!container) return\n\n    const handleScroll = () => {\n      const scrollTop = container.scrollTop\n      setIsAtTop(scrollTop < 10)\n    }\n\n    container.addEventListener('scroll', handleScroll, { passive: true })\n    return () => container.removeEventListener('scroll', handleScroll)\n  }, [])\n\n  const scrollToSection = useCallback((index: number) => {\n    const container = containerRef.current\n    if (!container) return\n\n    const sections = container.querySelectorAll('.section')\n    const section = sections[index] as HTMLElement | undefined\n    \n    if (section) {\n      container.scrollTo({\n        top: section.offsetTop,\n        behavior: 'smooth',\n      })\n    }\n  }, [])\n\n  const contextValue: ScrollContextValue = {\n    currentSection,\n    totalSections,\n    scrollToSection,\n    isAtTop,\n    containerRef,\n  }\n\n  return (\n    <ScrollContext.Provider value={contextValue}>\n      <div ref={containerRef} className=\"scroll-container\">\n        {children}\n      </div>\n    </ScrollContext.Provider>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/VimeoBackground.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\n\ninterface VimeoBackgroundProps {\n  vimeoId: string\n  className?: string\n  posterUrl?: string\n  priority?: boolean\n}\n\nexport default function VimeoBackground({\n  vimeoId,\n  className = '',\n  posterUrl,\n  priority = false,\n}: VimeoBackgroundProps) {\n  const [isLoaded, setIsLoaded] = useState(false)\n  const iframeRef = useRef<HTMLIFrameElement>(null)\n\n  useEffect(() => {\n    const iframe = iframeRef.current\n    if (!iframe) return\n\n    const handleLoad = () => {\n      // Small delay to ensure video has started\n      setTimeout(() => setIsLoaded(true), 500)\n    }\n\n    iframe.addEventListener('load', handleLoad)\n    return () => iframe.removeEventListener('load', handleLoad)\n  }, [])\n\n  const embedUrl = `https://player.vimeo.com/video/${vimeoId}?background=1&autoplay=1&loop=1&muted=1&quality=1080p&autopause=0`\n\n  return (\n    <div className={`project-section__video-container ${className}`}>\n      {posterUrl && (\n        <div\n          className={`project-section__poster ${isLoaded ? 'project-section__poster--hidden' : ''}`}\n          style={{ backgroundImage: `url(${posterUrl})` }}\n        />\n      )}\n      <div className=\"project-section__iframe-wrapper\">\n        <iframe\n          ref={iframeRef}\n          src={embedUrl}\n          allow=\"autoplay; fullscreen; picture-in-picture\"\n          loading={priority ? 'eager' : 'lazy'}\n          title={`Video ${vimeoId}`}\n        />\n      </div>\n      <div className=\"project-section__overlay\" />\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWe,SAAS,gBAAgB,EACtC,OAAO,EACP,YAAY,EAAE,EACd,SAAS,EACT,WAAW,KAAK,EACK;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,YAAY,IAAA,+MAAM,EAAoB;IAE5C,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,CAAC,QAAQ;QAEb,MAAM,aAAa;YACjB,0CAA0C;YAC1C,WAAW,IAAM,YAAY,OAAO;QACtC;QAEA,OAAO,gBAAgB,CAAC,QAAQ;QAChC,OAAO,IAAM,OAAO,mBAAmB,CAAC,QAAQ;IAClD,GAAG,EAAE;IAEL,MAAM,WAAW,CAAC,+BAA+B,EAAE,QAAQ,iEAAiE,CAAC;IAE7H,qBACE,8OAAC;QAAI,WAAW,CAAC,iCAAiC,EAAE,WAAW;;YAC5D,2BACC,8OAAC;gBACC,WAAW,CAAC,wBAAwB,EAAE,WAAW,oCAAoC,IAAI;gBACzF,OAAO;oBAAE,iBAAiB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;gBAAC;;;;;;0BAGlD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,KAAK;oBACL,KAAK;oBACL,OAAM;oBACN,SAAS,WAAW,UAAU;oBAC9B,OAAO,CAAC,MAAM,EAAE,SAAS;;;;;;;;;;;0BAG7B,8OAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/ProjectSection.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport VimeoBackground from './VimeoBackground'\nimport type { Project } from '@/lib/queries'\n\ninterface ProjectSectionProps {\n  project: Project\n  index: number\n  priority?: boolean\n}\n\nexport default function ProjectSection({\n  project,\n  index,\n  priority = false,\n}: ProjectSectionProps) {\n  return (\n    <section\n      className=\"section project-section\"\n      data-section-index={index}\n      data-project-slug={project.slug.current}\n    >\n      <Link href={`/project/${project.slug.current}`}>\n        <VimeoBackground\n          vimeoId={project.previewVimeoId}\n          priority={priority}\n        />\n      </Link>\n    </section>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYe,SAAS,eAAe,EACrC,OAAO,EACP,KAAK,EACL,WAAW,KAAK,EACI;IACpB,qBACE,8OAAC;QACC,WAAU;QACV,sBAAoB;QACpB,qBAAmB,QAAQ,IAAI,CAAC,OAAO;kBAEvC,cAAA,8OAAC,uKAAI;YAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,IAAI,CAAC,OAAO,EAAE;sBAC5C,cAAA,8OAAC,yIAAe;gBACd,SAAS,QAAQ,cAAc;gBAC/B,UAAU;;;;;;;;;;;;;;;;AAKpB"}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/AboutOverlay.tsx"],"sourcesContent":["'use client'\n\nimport { useRef, useCallback } from 'react'\n\ninterface AboutOverlayProps {\n  isVisible: boolean\n  aboutText: string\n  contactEmail?: string\n  onClose: () => void\n}\n\nexport default function AboutOverlay({\n  isVisible,\n  aboutText,\n  contactEmail,\n  onClose,\n}: AboutOverlayProps) {\n  // Split text into paragraphs\n  const paragraphs = aboutText.split('\\n\\n').filter(Boolean)\n  \n  // Track wheel events for scroll-down-to-close\n  const wheelAccumulator = useRef(0)\n  const lastWheelTime = useRef(0)\n\n  const handleWheel = useCallback((e: React.WheelEvent) => {\n    if (!isVisible) return\n    \n    const now = Date.now()\n    // Reset accumulator if too much time passed\n    if (now - lastWheelTime.current > 300) {\n      wheelAccumulator.current = 0\n    }\n    lastWheelTime.current = now\n\n    // Close on scroll down (positive deltaY)\n    if (e.deltaY > 0) {\n      wheelAccumulator.current += Math.abs(e.deltaY)\n      \n      if (wheelAccumulator.current > 50) {\n        onClose()\n        wheelAccumulator.current = 0\n      }\n    } else {\n      wheelAccumulator.current = 0\n    }\n  }, [isVisible, onClose])\n\n  return (\n    <div\n      className={`about-overlay ${isVisible ? 'about-overlay--visible' : ''}`}\n      onClick={onClose}\n      onWheel={handleWheel}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-label=\"About\"\n    >\n      <div\n        className=\"about-overlay__content\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"about-overlay__text\">\n          {paragraphs.map((paragraph, index) => (\n            <p key={index}>{paragraph}</p>\n          ))}\n        </div>\n        {contactEmail && (\n          <a\n            href={`mailto:${contactEmail}`}\n            className=\"about-overlay__email\"\n          >\n            {contactEmail}\n          </a>\n        )}\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWe,SAAS,aAAa,EACnC,SAAS,EACT,SAAS,EACT,YAAY,EACZ,OAAO,EACW;IAClB,6BAA6B;IAC7B,MAAM,aAAa,UAAU,KAAK,CAAC,QAAQ,MAAM,CAAC;IAElD,8CAA8C;IAC9C,MAAM,mBAAmB,IAAA,+MAAM,EAAC;IAChC,MAAM,gBAAgB,IAAA,+MAAM,EAAC;IAE7B,MAAM,cAAc,IAAA,oNAAW,EAAC,CAAC;QAC/B,IAAI,CAAC,WAAW;QAEhB,MAAM,MAAM,KAAK,GAAG;QACpB,4CAA4C;QAC5C,IAAI,MAAM,cAAc,OAAO,GAAG,KAAK;YACrC,iBAAiB,OAAO,GAAG;QAC7B;QACA,cAAc,OAAO,GAAG;QAExB,yCAAyC;QACzC,IAAI,EAAE,MAAM,GAAG,GAAG;YAChB,iBAAiB,OAAO,IAAI,KAAK,GAAG,CAAC,EAAE,MAAM;YAE7C,IAAI,iBAAiB,OAAO,GAAG,IAAI;gBACjC;gBACA,iBAAiB,OAAO,GAAG;YAC7B;QACF,OAAO;YACL,iBAAiB,OAAO,GAAG;QAC7B;IACF,GAAG;QAAC;QAAW;KAAQ;IAEvB,qBACE,8OAAC;QACC,WAAW,CAAC,cAAc,EAAE,YAAY,2BAA2B,IAAI;QACvE,SAAS;QACT,SAAS;QACT,MAAK;QACL,cAAW;QACX,cAAW;kBAEX,cAAA,8OAAC;YACC,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAEjC,8OAAC;oBAAI,WAAU;8BACZ,WAAW,GAAG,CAAC,CAAC,WAAW,sBAC1B,8OAAC;sCAAe;2BAAR;;;;;;;;;;gBAGX,8BACC,8OAAC;oBACC,MAAM,CAAC,OAAO,EAAE,cAAc;oBAC9B,WAAU;8BAET;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/ScrollIndicator.tsx"],"sourcesContent":["'use client'\n\nimport { useMemo } from 'react'\nimport type { Project } from '@/lib/queries'\n\ninterface ScrollIndicatorProps {\n  projects: Project[]\n  currentSection: number\n  isAboutVisible: boolean\n  isArchiveActive: boolean\n  onAboutClick: () => void\n  onArchiveClick: () => void\n  onProjectClick: (index: number) => void\n}\n\nexport default function ScrollIndicator({\n  projects,\n  currentSection,\n  isAboutVisible,\n  isArchiveActive,\n  onAboutClick,\n  onArchiveClick,\n  onProjectClick,\n}: ScrollIndicatorProps) {\n  // Get current project info\n  const currentProject = useMemo(() => {\n    if (currentSection >= 0 && currentSection < projects.length) {\n      return projects[currentSection]\n    }\n    return null\n  }, [currentSection, projects])\n\n  // Calculate which of the 7 positions we're at (0=about, 1-5=projects, 6=archive)\n  const activePosition = useMemo(() => {\n    if (isAboutVisible) return 0\n    if (isArchiveActive) return 6\n    return currentSection + 1 // 1-5 for projects\n  }, [isAboutVisible, isArchiveActive, currentSection])\n\n  // Show project info only for project sections (not About or Archive)\n  const showProjectInfo = !isAboutVisible && !isArchiveActive && currentProject\n\n  return (\n    <>\n      {/* Left Indicator */}\n      <div className={`indicator-left ${isArchiveActive ? 'indicator--dark' : ''}`}>\n        <div className=\"indicator-left__items\">\n          {/* About */}\n          <button\n            className={`indicator-left__item ${isAboutVisible ? 'indicator-left__item--active' : ''}`}\n            onClick={onAboutClick}\n          >\n            About\n          </button>\n\n          {/* Project Numbers 01-05 */}\n          {projects.map((project, index) => (\n            <button\n              key={project._id}\n              className={`indicator-left__item ${\n                currentSection === index && !isArchiveActive && !isAboutVisible\n                  ? 'indicator-left__item--active'\n                  : ''\n              }`}\n              onClick={() => onProjectClick(index)}\n            >\n              {String(index + 1).padStart(2, '0')}\n            </button>\n          ))}\n\n          {/* Archive */}\n          <button\n            className={`indicator-left__item ${isArchiveActive ? 'indicator-left__item--active' : ''}`}\n            onClick={onArchiveClick}\n          >\n            Archive\n          </button>\n        </div>\n\n        {/* Floating Project Info - positioned dynamically, same as items */}\n        {showProjectInfo && (\n          <div \n            className=\"indicator-left__project-info\"\n            style={{ '--marker-position': activePosition } as React.CSSProperties}\n          >\n            <span className=\"indicator-left__title\">\n              {currentProject.title}\n            </span>\n            <span className=\"indicator-left__client\">\n              {currentProject.client}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Right Indicator */}\n      <div className={`indicator-right ${isArchiveActive ? 'indicator--dark' : ''}`}>\n        <div className=\"indicator-right__items\">\n          {/* All 7 positions: About (0), Projects 1-5, Archive (6) */}\n          {[0, 1, 2, 3, 4, 5, 6].map((position) => (\n            <button\n              key={position}\n              className={`indicator-right__item ${\n                activePosition === position ? 'indicator-right__item--active' : ''\n              }`}\n              onClick={() => {\n                if (position === 0) onAboutClick()\n                else if (position === 6) onArchiveClick()\n                else onProjectClick(position - 1)\n              }}\n            >\n              {position >= 1 && position <= 5 && String(position).padStart(2, '0')}\n            </button>\n          ))}\n\n          {/* Moving square marker */}\n          <div\n            className=\"indicator-right__marker\"\n            style={{ '--marker-position': activePosition } as React.CSSProperties}\n          />\n        </div>\n      </div>\n\n      {/* Header Logo */}\n      <header className={`header ${isArchiveActive ? 'indicator--dark' : ''}`}>\n        <div className=\"header__logo\">\n          <button onClick={() => onProjectClick(0)}>\n            Luchi Nóbile\n          </button>\n        </div>\n      </header>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAee,SAAS,gBAAgB,EACtC,QAAQ,EACR,cAAc,EACd,cAAc,EACd,eAAe,EACf,YAAY,EACZ,cAAc,EACd,cAAc,EACO;IACrB,2BAA2B;IAC3B,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,IAAI,kBAAkB,KAAK,iBAAiB,SAAS,MAAM,EAAE;YAC3D,OAAO,QAAQ,CAAC,eAAe;QACjC;QACA,OAAO;IACT,GAAG;QAAC;QAAgB;KAAS;IAE7B,iFAAiF;IACjF,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,IAAI,gBAAgB,OAAO;QAC3B,IAAI,iBAAiB,OAAO;QAC5B,OAAO,iBAAiB,EAAE,mBAAmB;;IAC/C,GAAG;QAAC;QAAgB;QAAiB;KAAe;IAEpD,qEAAqE;IACrE,MAAM,kBAAkB,CAAC,kBAAkB,CAAC,mBAAmB;IAE/D,qBACE;;0BAEE,8OAAC;gBAAI,WAAW,CAAC,eAAe,EAAE,kBAAkB,oBAAoB,IAAI;;kCAC1E,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCACC,WAAW,CAAC,qBAAqB,EAAE,iBAAiB,iCAAiC,IAAI;gCACzF,SAAS;0CACV;;;;;;4BAKA,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,8OAAC;oCAEC,WAAW,CAAC,qBAAqB,EAC/B,mBAAmB,SAAS,CAAC,mBAAmB,CAAC,iBAC7C,iCACA,IACJ;oCACF,SAAS,IAAM,eAAe;8CAE7B,OAAO,QAAQ,GAAG,QAAQ,CAAC,GAAG;mCAR1B,QAAQ,GAAG;;;;;0CAapB,8OAAC;gCACC,WAAW,CAAC,qBAAqB,EAAE,kBAAkB,iCAAiC,IAAI;gCAC1F,SAAS;0CACV;;;;;;;;;;;;oBAMF,iCACC,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,qBAAqB;wBAAe;;0CAE7C,8OAAC;gCAAK,WAAU;0CACb,eAAe,KAAK;;;;;;0CAEvB,8OAAC;gCAAK,WAAU;0CACb,eAAe,MAAM;;;;;;;;;;;;;;;;;;0BAO9B,8OAAC;gBAAI,WAAW,CAAC,gBAAgB,EAAE,kBAAkB,oBAAoB,IAAI;0BAC3E,cAAA,8OAAC;oBAAI,WAAU;;wBAEZ;4BAAC;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,yBAC1B,8OAAC;gCAEC,WAAW,CAAC,sBAAsB,EAChC,mBAAmB,WAAW,kCAAkC,IAChE;gCACF,SAAS;oCACP,IAAI,aAAa,GAAG;yCACf,IAAI,aAAa,GAAG;yCACpB,eAAe,WAAW;gCACjC;0CAEC,YAAY,KAAK,YAAY,KAAK,OAAO,UAAU,QAAQ,CAAC,GAAG;+BAV3D;;;;;sCAeT,8OAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,qBAAqB;4BAAe;;;;;;;;;;;;;;;;;0BAMnD,8OAAC;gBAAO,WAAW,CAAC,OAAO,EAAE,kBAAkB,oBAAoB,IAAI;0BACrE,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAO,SAAS,IAAM,eAAe;kCAAI;;;;;;;;;;;;;;;;;;AAOpD"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/lib/sanity.ts"],"sourcesContent":["import { createClient } from 'next-sanity'\nimport imageUrlBuilder from '@sanity/image-url'\n\nconst projectId = process.env.NEXT_PUBLIC_SANITY_PROJECT_ID\nconst dataset = process.env.NEXT_PUBLIC_SANITY_DATASET || 'production'\n\n// Only create a real client if project ID is configured\nexport const client = projectId\n  ? createClient({\n      projectId,\n      dataset,\n      apiVersion: '2024-01-01',\n      useCdn: true,\n    })\n  : null\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function urlFor(source: any) {\n  if (!client) {\n    // Return a mock builder that returns empty URL\n    return {\n      width: () => ({ height: () => ({ url: () => '' }) }),\n      height: () => ({ width: () => ({ url: () => '' }) }),\n      url: () => '',\n    }\n  }\n  const builder = imageUrlBuilder(client)\n  return builder.image(source)\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,YAAY,QAAQ,GAAG,CAAC,6BAA6B;AAC3D,MAAM,UAAU,QAAQ,GAAG,CAAC,0BAA0B,IAAI;AAGnD,MAAM,SAAS,YAClB,IAAA,mLAAY,EAAC;IACX;IACA;IACA,YAAY;IACZ,QAAQ;AACV,KACA;AAGG,SAAS,OAAO,MAAW;IAChC,IAAI,CAAC,QAAQ;QACX,+CAA+C;QAC/C,OAAO;YACL,OAAO,IAAM,CAAC;oBAAE,QAAQ,IAAM,CAAC;4BAAE,KAAK,IAAM;wBAAG,CAAC;gBAAE,CAAC;YACnD,QAAQ,IAAM,CAAC;oBAAE,OAAO,IAAM,CAAC;4BAAE,KAAK,IAAM;wBAAG,CAAC;gBAAE,CAAC;YACnD,KAAK,IAAM;QACb;IACF;IACA,MAAM,UAAU,IAAA,mLAAe,EAAC;IAChC,OAAO,QAAQ,KAAK,CAAC;AACvB"}},
    {"offset": {"line": 773, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/ArchiveGrid.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState } from 'react'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { urlFor } from '@/lib/sanity'\nimport type { Project } from '@/lib/queries'\n\n// Define media type for each placeholder\n// 'video' = large (2×2), 'image' = small (1×1)\ninterface PlaceholderItem {\n  type: 'video' | 'image'\n  src: string\n}\n\n// Placeholder data - videos are large, images are small\nconst placeholderMedia: PlaceholderItem[] = [\n  // Row 1-2: Large video on left, 2 small images stacked on right\n  { type: 'video', src: 'https://videos.pexels.com/video-files/5752729/5752729-uhd_2560_1440_30fps.mp4' },\n  { type: 'image', src: 'https://images.pexels.com/photos/3062541/pexels-photo-3062541.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  { type: 'image', src: 'https://images.pexels.com/photos/2608517/pexels-photo-2608517.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  \n  // Row 3-4: 2 small images, then large video\n  { type: 'image', src: 'https://images.pexels.com/photos/3379934/pexels-photo-3379934.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  { type: 'video', src: 'https://videos.pexels.com/video-files/5752574/5752574-uhd_2560_1440_30fps.mp4' },\n  { type: 'image', src: 'https://images.pexels.com/photos/1983037/pexels-photo-1983037.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  \n  // Row 5-6: Large video, 2 small images\n  { type: 'video', src: 'https://videos.pexels.com/video-files/4065924/4065924-uhd_2560_1440_30fps.mp4' },\n  { type: 'image', src: 'https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  { type: 'image', src: 'https://images.pexels.com/photos/3571551/pexels-photo-3571551.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  \n  // More items\n  { type: 'image', src: 'https://images.pexels.com/photos/2531237/pexels-photo-2531237.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  { type: 'image', src: 'https://images.pexels.com/photos/3184398/pexels-photo-3184398.jpeg?auto=compress&cs=tinysrgb&w=800' },\n  { type: 'video', src: 'https://videos.pexels.com/video-files/3571264/3571264-uhd_2560_1440_30fps.mp4' },\n]\n\ninterface ArchiveGridProps {\n  projects: Project[]\n}\n\nexport default function ArchiveGrid({ projects }: ArchiveGridProps) {\n  const gridRef = useRef<HTMLDivElement>(null)\n  const [visibleItems, setVisibleItems] = useState<Set<string>>(new Set())\n\n  // Lazy load thumbnails as they come into view\n  useEffect(() => {\n    const grid = gridRef.current\n    if (!grid) return\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            const id = entry.target.getAttribute('data-project-id')\n            if (id) {\n              setVisibleItems((prev) => {\n                const newSet = new Set(prev)\n                newSet.add(id)\n                return newSet\n              })\n            }\n          }\n        })\n      },\n      {\n        root: null,\n        rootMargin: '200px',\n        threshold: 0,\n      }\n    )\n\n    const items = grid.querySelectorAll('.archive__item')\n    items.forEach((item) => observer.observe(item))\n\n    return () => observer.disconnect()\n  }, [projects])\n\n  // Generate items - use projects data with placeholder media\n  const items = projects.map((project, index) => {\n    const placeholder = placeholderMedia[index % placeholderMedia.length]\n    return {\n      project,\n      media: placeholder,\n      isLarge: placeholder.type === 'video',\n    }\n  })\n\n  return (\n    <section className=\"section section--archive archive\">\n      <div ref={gridRef} className=\"archive__grid\">\n        {items.map(({ project, media, isLarge }, index) => {\n          const isVisible = visibleItems.has(project._id)\n          \n          // Try to get Sanity thumbnail, fall back to placeholder\n          const thumbnailUrl = project.thumbnail\n            ? urlFor(project.thumbnail).width(800).height(450).url()\n            : null\n\n          return (\n            <Link\n              key={project._id}\n              href={`/project/${project.slug.current}`}\n              className={`archive__item ${isLarge ? 'archive__item--large' : ''}`}\n              data-project-id={project._id}\n            >\n              {isVisible && (\n                <div className=\"archive__thumbnail\">\n                  {media.type === 'video' ? (\n                    <video\n                      src={media.src}\n                      autoPlay\n                      loop\n                      muted\n                      playsInline\n                      className=\"archive__video\"\n                    />\n                  ) : thumbnailUrl ? (\n                    <Image\n                      src={thumbnailUrl}\n                      alt={project.title}\n                      fill\n                      sizes={isLarge ? '66vw' : '33vw'}\n                      style={{ objectFit: 'cover' }}\n                    />\n                  ) : (\n                    <Image\n                      src={media.src}\n                      alt={project.title}\n                      fill\n                      sizes=\"33vw\"\n                      style={{ objectFit: 'cover' }}\n                      unoptimized\n                    />\n                  )}\n                </div>\n              )}\n              <div className=\"archive__item-overlay\" />\n              <div className=\"archive__item-info\">\n                <h3 className=\"archive__item-title\">{project.title}</h3>\n                <p className=\"archive__item-client\">{project.client}</p>\n              </div>\n            </Link>\n          )\n        })}\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 995, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/MainPageClient.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useCallback, useEffect, useRef } from 'react'\nimport SplashScreen from './SplashScreen'\nimport ScrollContainer, { useScrollContext } from './ScrollContainer'\nimport ProjectSection from './ProjectSection'\nimport AboutOverlay from './AboutOverlay'\nimport ScrollIndicator from './ScrollIndicator'\nimport ArchiveGrid from './ArchiveGrid'\nimport type { Project, SiteSettings } from '@/lib/queries'\n\ninterface MainPageClientProps {\n  featuredProjects: Project[]\n  allProjects: Project[]\n  siteSettings: SiteSettings\n}\n\ninterface MainPageContentProps extends MainPageClientProps {\n  isAboutVisible: boolean\n  setIsAboutVisible: (visible: boolean) => void\n}\n\nfunction MainPageContent({\n  featuredProjects,\n  allProjects,\n  siteSettings,\n  isAboutVisible,\n  setIsAboutVisible,\n}: MainPageContentProps) {\n  const { currentSection, scrollToSection, containerRef } = useScrollContext()\n  const wheelAccumulator = useRef(0)\n  const lastWheelTime = useRef(0)\n\n  // Handle wheel events for opening/closing About\n  useEffect(() => {\n    const container = containerRef.current\n    if (!container) return\n\n    const handleWheel = (e: WheelEvent) => {\n      // Reset accumulator if too much time passed\n      const now = Date.now()\n      if (now - lastWheelTime.current > 300) {\n        wheelAccumulator.current = 0\n      }\n      lastWheelTime.current = now\n\n      if (isAboutVisible) {\n        // Close About by scrolling down (positive deltaY)\n        if (e.deltaY > 0) {\n          wheelAccumulator.current += Math.abs(e.deltaY)\n          \n          if (wheelAccumulator.current > 50) {\n            setIsAboutVisible(false)\n            wheelAccumulator.current = 0\n          }\n        } else {\n          wheelAccumulator.current = 0\n        }\n      } else {\n        // Open About by scrolling up while at project 1\n        if (currentSection !== 0 || container.scrollTop > 10) {\n          wheelAccumulator.current = 0\n          return\n        }\n\n        if (e.deltaY < 0) {\n          wheelAccumulator.current += Math.abs(e.deltaY)\n          \n          if (wheelAccumulator.current > 100) {\n            setIsAboutVisible(true)\n            wheelAccumulator.current = 0\n          }\n        } else {\n          wheelAccumulator.current = 0\n        }\n      }\n    }\n\n    container.addEventListener('wheel', handleWheel, { passive: true })\n    return () => container.removeEventListener('wheel', handleWheel)\n  }, [containerRef, currentSection, isAboutVisible])\n\n  const handleAboutClick = useCallback(() => {\n    setIsAboutVisible((prev) => !prev)\n  }, [])\n\n  const handleArchiveClick = useCallback(() => {\n    // Scroll to archive section (last section, index = featuredProjects.length)\n    scrollToSection(featuredProjects.length)\n    setIsAboutVisible(false)\n  }, [scrollToSection, featuredProjects.length])\n\n  const handleProjectClick = useCallback(\n    (index: number) => {\n      scrollToSection(index)\n      setIsAboutVisible(false)\n    },\n    [scrollToSection]\n  )\n\n  const isArchiveActive = currentSection >= featuredProjects.length\n\n  return (\n    <>\n      {/* Featured Project Sections */}\n      {featuredProjects.map((project, index) => (\n        <ProjectSection\n          key={project._id}\n          project={project}\n          index={index}\n          priority={index < 3}\n        />\n      ))}\n\n      {/* Archive Section */}\n      <ArchiveGrid projects={allProjects} />\n\n      {/* Scroll Indicators */}\n      <ScrollIndicator\n        projects={featuredProjects}\n        currentSection={currentSection}\n        isAboutVisible={isAboutVisible}\n        isArchiveActive={isArchiveActive}\n        onAboutClick={handleAboutClick}\n        onArchiveClick={handleArchiveClick}\n        onProjectClick={handleProjectClick}\n      />\n    </>\n  )\n}\n\nexport default function MainPageClient({\n  featuredProjects,\n  allProjects,\n  siteSettings,\n}: MainPageClientProps) {\n  const [showSplash, setShowSplash] = useState(true)\n  const [isAboutVisible, setIsAboutVisible] = useState(false)\n\n  const handleSplashComplete = useCallback(() => {\n    setShowSplash(false)\n  }, [])\n\n  const handleAboutClose = useCallback(() => {\n    setIsAboutVisible(false)\n  }, [])\n\n  // Get Vimeo IDs for preloading\n  const vimeoIds = featuredProjects.map((p) => p.previewVimeoId)\n\n  return (\n    <>\n      {/* Main content renders immediately so videos start loading */}\n      <ScrollContainer initialSection={0}>\n        <MainPageContent\n          featuredProjects={featuredProjects}\n          allProjects={allProjects}\n          siteSettings={siteSettings}\n          isAboutVisible={isAboutVisible}\n          setIsAboutVisible={setIsAboutVisible}\n        />\n      </ScrollContainer>\n\n      {/* About Overlay - outside ScrollContainer for better backdrop-filter support */}\n      <AboutOverlay\n        isVisible={isAboutVisible}\n        aboutText={siteSettings.aboutText}\n        contactEmail={siteSettings.contactEmail}\n        onClose={handleAboutClose}\n      />\n\n      {/* Splash screen on top with blur - videos load behind it */}\n      {showSplash && (\n        <SplashScreen\n          vimeoIds={vimeoIds}\n          onComplete={handleSplashComplete}\n          minDuration={3500}\n        />\n      )}\n    </>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}