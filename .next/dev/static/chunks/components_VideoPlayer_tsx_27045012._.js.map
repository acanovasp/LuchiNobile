{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/acanovas/Documents/GitHub/LuchiNobile/components/VideoPlayer.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef, useState, useCallback } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Player from '@vimeo/player'\nimport Link from 'next/link'\nimport type { Project } from '@/lib/queries'\n\ninterface VideoPlayerProps {\n  project: Project\n}\n\nexport default function VideoPlayer({ project }: VideoPlayerProps) {\n  const router = useRouter()\n  const playerContainerRef = useRef<HTMLDivElement>(null)\n  const playerRef = useRef<Player | null>(null)\n  \n  const [isPlaying, setIsPlaying] = useState(true)\n  const [isMuted, setIsMuted] = useState(false)\n  const [progress, setProgress] = useState(0)\n  const [duration, setDuration] = useState(0)\n  const [controlsVisible, setControlsVisible] = useState(true)\n\n  // Initialize Vimeo player\n  useEffect(() => {\n    const container = playerContainerRef.current\n    if (!container) return\n\n    const player = new Player(container, {\n      id: parseInt(project.fullVimeoId, 10),\n      width: window.innerWidth,\n      height: window.innerHeight,\n      autoplay: true,\n      muted: false,\n      loop: false,\n      controls: false,\n      responsive: true,\n    })\n\n    playerRef.current = player\n\n    player.on('play', () => setIsPlaying(true))\n    player.on('pause', () => setIsPlaying(false))\n    player.on('ended', () => setIsPlaying(false))\n    \n    player.on('timeupdate', (data) => {\n      setProgress(data.percent * 100)\n      setDuration(data.duration)\n    })\n\n    player.getDuration().then(setDuration)\n\n    return () => {\n      player.destroy()\n    }\n  }, [project.fullVimeoId])\n\n  // Hide controls after inactivity\n  useEffect(() => {\n    let timeout: NodeJS.Timeout\n\n    const showControls = () => {\n      setControlsVisible(true)\n      clearTimeout(timeout)\n      timeout = setTimeout(() => setControlsVisible(false), 3000)\n    }\n\n    const handleMouseMove = () => showControls()\n    const handleClick = () => showControls()\n\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('click', handleClick)\n\n    showControls()\n\n    return () => {\n      clearTimeout(timeout)\n      document.removeEventListener('mousemove', handleMouseMove)\n      document.removeEventListener('click', handleClick)\n    }\n  }, [])\n\n  const handlePlayPause = useCallback(() => {\n    const player = playerRef.current\n    if (!player) return\n\n    if (isPlaying) {\n      player.pause()\n    } else {\n      player.play()\n    }\n  }, [isPlaying])\n\n  const handleMuteToggle = useCallback(() => {\n    const player = playerRef.current\n    if (!player) return\n\n    player.setMuted(!isMuted)\n    setIsMuted(!isMuted)\n  }, [isMuted])\n\n  const handleProgressClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      const player = playerRef.current\n      if (!player || !duration) return\n\n      const rect = e.currentTarget.getBoundingClientRect()\n      const percent = (e.clientX - rect.left) / rect.width\n      const time = percent * duration\n\n      player.setCurrentTime(time)\n    },\n    [duration]\n  )\n\n  const handleClose = useCallback(() => {\n    router.push('/')\n  }, [router])\n\n  return (\n    <div className=\"video-player-page\">\n      <div\n        className={`video-player ${controlsVisible ? 'video-player--controls-visible' : ''}`}\n      >\n        {/* Video Container */}\n        <div ref={playerContainerRef} className=\"video-player__container\" />\n\n        {/* Header */}\n        <div className=\"video-player__header\">\n          <Link href=\"/\" className=\"video-player__logo\">\n            Luchi NÃ³bile\n          </Link>\n        </div>\n\n        {/* Controls */}\n        <div className=\"video-player__controls\">\n          <div className=\"video-player__controls-inner\">\n            {/* Project Info */}\n            <div className=\"video-player__info\">\n              <span className=\"video-player__number\">\n                {String(project.order || 1).padStart(2, '0')}\n              </span>\n              <span className=\"video-player__title\">{project.title}</span>\n              <span className=\"video-player__client\">{project.client}</span>\n            </div>\n\n            {/* Buttons */}\n            <div className=\"video-player__buttons\">\n              <button\n                className=\"video-player__button\"\n                onClick={handlePlayPause}\n              >\n                {isPlaying ? 'Pause' : 'Play'}\n              </button>\n              <button\n                className=\"video-player__button\"\n                onClick={handleMuteToggle}\n              >\n                {isMuted ? 'Unmute' : 'Mute'}\n              </button>\n            </div>\n\n            {/* Progress Bar */}\n            <div className=\"video-player__progress\">\n              <div\n                className=\"video-player__progress-bar\"\n                onClick={handleProgressClick}\n              >\n                <div\n                  className=\"video-player__progress-fill\"\n                  style={{ width: `${progress}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Close Button */}\n        <button className=\"video-player__close\" onClick={handleClose}>\n          Close\n        </button>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}