(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83121,e=>{"use strict";var t=e.i(43476),n=e.i(932),r=e.i(71645),i=e.i(77160),a=e.i(63486),l=e.i(26047),o=e.i(88942),s=e.i(28696),u=e.i(21634),d=e.i(61510),p=e.i(30823),c=e.i(45281),f=e.i(45912),m=e.i(39338),h=e.i(89196),x=e.i(2400),g=e.i(40144),y=e.i(48077),I=e.i(34352),P=e.i(42722),v=e.i(2014),b=e.i(94059),w=e.i(58832),j=e.i(2965),S=e.i(27608),_=e.i(11308),E=e.i(74e3),T=e.i(63647),N=e.i(16606),A=e.i(47912),k=e.i(25917),R=e.i(78491),$=e.i(97053),D=e.i(24019),O=e.i(48837);class z extends Error{constructor({message:e,context:t,helpId:n,cause:r}){super(e),this.name="PaneResolutionError",this.context=t,this.helpId=n,this.cause=r}}let C=new WeakMap;function L(e){let t=C.get(e);if(t)return t;let n=(0,y.nanoid)();return C.set(e,n),n}function M(e){let t,n,r=(t=e((e,t,n)=>{if(!e)throw new z({message:"Pane returned no child",context:t,helpId:"structure-item-returned-no-child"});return e&&"function"==typeof e?.then||(0,f.isObservable)(e)?(0,p.from)(e).pipe((0,I.switchMap)(e=>r(e,t,n))):(0,i.isRecord)(e)&&"function"==typeof e.serialize?r(e.serialize(t),t,n):"function"==typeof e?r(e(t.id,t),t,n):(0,c.of)(e)}),n=(...e)=>t(...e).pipe((0,P.publishReplay)(1),(0,v.refCount)()),(e,t,r)=>{try{return n(e,t,r)}catch(e){throw e instanceof z?e:new z({message:"string"==typeof e?.message?e.message:"",context:t,cause:e})}});return r}let B=new WeakMap;function G(e,t){let n=B.get(e)||new Map;if(n){let e=n.get(t);if(e)return e}let r=e[t];if("function"!=typeof r)throw Error(`Expected property \`${t}\` to be a function but got ${typeof r} instead.`);let i=r.bind(e);return n.set(t,i),B.set(e,n),i}async function W(e){let t=new Map,n=M(e=>(n,r,i)=>{let a=n&&`${L(n)}-${r.path.join("__")}`,l=a&&t.get(a);if(l)return l;let o=e(n,r,i);return a&&t.set(a,o),o}),r=[[{id:`__edit__${e.params.id}`,params:{...(0,u.omit)(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function i({currentId:e,flatIndex:t,intent:r,params:a,parent:l,path:o,payload:s,unresolvedPane:u,levelIndex:d,structureContext:p}){if(!u)return[];let{id:c,type:f,...h}=a,x=await (0,m.firstValueFrom)(n(u,{id:e,splitIndex:0,parent:l,path:o,index:t,params:{},payload:void 0,structureContext:p},t));return"document"===x.type&&x.id===c?[{panes:[...o.slice(0,o.length-1).map(e=>[{id:e}]),[{id:c,params:h,payload:s}]],depthIndex:o.length,levelIndex:d}]:x.canHandleIntent?.(r,a,{pane:x,index:t})||"documentList"===x.type&&x.schemaTypeName===f&&"_type == $type"===x.options.filter?[{panes:[...o.map(e=>[{id:e}]),[{id:a.id,params:h,payload:s}]],depthIndex:o.length,levelIndex:d}]:"list"===x.type&&x.child&&x.items?(await Promise.all(x.items.map((e,n)=>"divider"===e.type?Promise.resolve([]):i({currentId:e._id||e.id,flatIndex:t+1,intent:r,params:a,parent:x,path:[...o,e.id],payload:s,unresolvedPane:"function"==typeof x.child?G(x,"child"):x.child,levelIndex:n,structureContext:p})))).flat():[]}let a=(await i({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((e,t)=>e.depthIndex===t.depthIndex?e.levelIndex-t.levelIndex:e.depthIndex-t.depthIndex)[0];return a?a.panes:r}let F=(e,t)=>{let n=e.replace(/^__edit__/,""),{params:r,payload:i,structureContext:{resolveDocumentNode:a}}=t,{type:l,template:o}=r;if(!l)throw Error(`Document type for document with ID ${n} was not provided in the router params.`);let s=a({schemaType:l,documentId:n}).id("editor");return o&&(s=s.initialValueTemplate(o,i)),s.serialize()},H=e=>{let t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:"resolvedMeta"===e.type?L(e.paneNode):null};return`metaHash(${JSON.stringify(t)})`};function U(e){return e?.panes||[]}function K(){return new g.ReplaySubject(1)}function V(e){let t=e.reduce(q,[]),n=t.length,r=e.map(r=>{let{groupIndex:i,flatIndex:a,siblingIndex:o,routerPaneSibling:s,path:u}=r,d=s.id,p=t[i+1];return{active:i===n-2,childItemId:p?.[0].id??null,index:a,itemId:s.id,groupIndex:i,key:`${"loading"===r.type?"unknown":r.paneNode.id}-${d}-${o}`,pane:"loading"===r.type?l.LOADING_PANE:r.paneNode,params:s.params||{},path:u.join(";"),payload:s.payload,selected:a===e.length-1,siblingIndex:o,maximized:!1}});return{paneDataItems:r,routerPanes:t,resolvedPanes:r.map(J)}}function J(e){return e.pane}function q(e,t){let n=e[t.groupIndex]||[];return n[t.siblingIndex]=t.routerPaneSibling,e[t.groupIndex]=n,e}async function Y(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:(0,T.uuid)(),type:n};if(t&&!n){let n=await (0,m.firstValueFrom)(e.resolveTypeForDocument(t));return{id:t,type:n}}throw new z({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}let Q={},X=(0,r.memo)(function(){let e,t,a=(0,n.c)(7),{navigate:o}=(0,s.useRouter)(),u=(0,s.useRouterState)(Z),{rootPaneNode:d,structureContext:p}=(0,l.useStructureTool)(),c=(0,i.useDocumentStore)(),[f,m]=(0,r.useState)(null);if(f)throw f;return a[0]!==c||a[1]!==u||a[2]!==o||a[3]!==d||a[4]!==p?(e=()=>{if(u){let{intent:e,params:t,payload:n}=u,r=!1;return(async function(){let{id:i,type:a}=await Y(c,"string"==typeof t.id?t.id:void 0,"string"==typeof t.type?t.type:void 0);if(r)return;let l=await W({intent:e,params:{...t,id:i,type:a},payload:n,rootPaneNode:d,structureContext:p});r||o({panes:l},{replace:!0})})().catch(m),()=>{r=!0}}},t=[c,u,o,d,p],a[0]=c,a[1]=u,a[2]=o,a[3]=d,a[4]=p,a[5]=e,a[6]=t):(e=a[5],t=a[6]),(0,r.useEffect)(e,t),null});function Z(e){let t="string"==typeof e.intent?e.intent:void 0;return t?{intent:t,params:(0,i.isRecord)(e.params)?e.params:Q,payload:e.payload}:void 0}let ee=$.styled.span`
  &:not(:last-child)::after {
    content: ' âž ';
    opacity: 0.5;
  }
`;function et(e){let r,l,s,u,d,p,c,f,m,h,x,g,y,I,P,v,b,w,j,S,_,E,T,R,$,D,O,C,L,M,B=(0,n.c)(74),{error:G}=e;if(!(G instanceof z))throw G;let{cause:W}=G,{t:F}=(0,i.useTranslation)(o.structureLocaleNamespace),H=W?.stack||G.stack;B[0]!==W||B[1]!==G.message||B[2]!==H?(r=H&&!(W instanceof o.SerializeError)&&!G.message.includes("Module build failed:"),B[0]=W,B[1]=G.message,B[2]=H,B[3]=r):r=B[3];let U=r;if(B[4]!==W||B[5]!==G.helpId||B[6]!==F){let e,n=W instanceof o.SerializeError?W.path:[];p=W instanceof o.SerializeError&&W.helpId||G.helpId,d=er,u=k.Card,c="fill",f="auto",m=4,h="border",x="critical",s=k.Container,B[25]!==F?(e=F("structure-error.header.text"),B[25]=F,B[26]=e):e=B[26],B[27]!==e?(j=(0,t.jsx)(k.Heading,{as:"h2",children:e}),B[27]=e,B[28]=j):j=B[28],l=k.Card,g=4,y=4,I=2,P="auto",v=1,b="inherit",w=n.length>0&&(0,t.jsxs)(k.Stack,{space:2,children:[(0,t.jsx)(k.Text,{size:1,weight:"medium",children:F("structure-error.structure-path.label")}),(0,t.jsx)(k.Code,{children:n.slice(1).map(en)})]}),B[4]=W,B[5]=G.helpId,B[6]=F,B[7]=l,B[8]=s,B[9]=u,B[10]=d,B[11]=p,B[12]=c,B[13]=f,B[14]=m,B[15]=h,B[16]=x,B[17]=g,B[18]=y,B[19]=I,B[20]=P,B[21]=v,B[22]=b,B[23]=w,B[24]=j}else l=B[7],s=B[8],u=B[9],d=B[10],p=B[11],c=B[12],f=B[13],m=B[14],h=B[15],x=B[16],g=B[17],y=B[18],I=B[19],P=B[20],v=B[21],b=B[22],w=B[23],j=B[24];return B[29]!==F?(S=F("structure-error.error.label"),B[29]=F,B[30]=S):S=B[30],B[31]!==S?(_=(0,t.jsx)(k.Text,{size:1,weight:"medium",children:S}),B[31]=S,B[32]=_):_=B[32],B[33]!==G.message||B[34]!==U||B[35]!==H?(E=U?H.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(RegExp(` \\(https?:\\/\\/${window.location.host}`,"g")," ("):G.message,B[33]=G.message,B[34]=U,B[35]=H,B[36]=E):E=B[36],B[37]!==E?(T=(0,t.jsx)(k.Code,{children:E}),B[37]=E,B[38]=T):T=B[38],B[39]!==_||B[40]!==T?(R=(0,t.jsxs)(k.Stack,{marginTop:4,space:2,children:[_,T]}),B[39]=_,B[40]=T,B[41]=R):R=B[41],B[42]!==p||B[43]!==F?($=p&&(0,t.jsx)(k.Box,{marginTop:4,children:(0,t.jsx)(k.Text,{children:(0,t.jsx)("a",{href:(0,N.generateHelpUrl)(p),rel:"noopener noreferrer",target:"_blank",children:F("structure-error.docs-link.text")})})}),B[42]=p,B[43]=F,B[44]=$):$=B[44],B[45]!==F?(D=F("structure-error.reload-button.text"),B[45]=F,B[46]=D):D=B[46],B[47]!==d||B[48]!==D?(O=(0,t.jsx)(k.Box,{marginTop:4,children:(0,t.jsx)(a.Button,{text:D,icon:A.SyncIcon,tone:"primary",onClick:d})}),B[47]=d,B[48]=D,B[49]=O):O=B[49],B[50]!==l||B[51]!==R||B[52]!==g||B[53]!==$||B[54]!==O||B[55]!==y||B[56]!==I||B[57]!==P||B[58]!==v||B[59]!==b||B[60]!==w?(C=(0,t.jsxs)(l,{marginTop:g,padding:y,radius:I,overflow:P,shadow:v,tone:b,children:[w,R,$,O]}),B[50]=l,B[51]=R,B[52]=g,B[53]=$,B[54]=O,B[55]=y,B[56]=I,B[57]=P,B[58]=v,B[59]=b,B[60]=w,B[61]=C):C=B[61],B[62]!==s||B[63]!==C||B[64]!==j?(L=(0,t.jsxs)(s,{children:[j,C]}),B[62]=s,B[63]=C,B[64]=j,B[65]=L):L=B[65],B[66]!==u||B[67]!==c||B[68]!==f||B[69]!==m||B[70]!==h||B[71]!==x||B[72]!==L?(M=(0,t.jsx)(u,{height:c,overflow:f,padding:m,sizing:h,tone:x,children:L}),B[66]=u,B[67]=c,B[68]=f,B[69]=m,B[70]=h,B[71]=x,B[72]=L,B[73]=M):M=B[73],M}function en(e,n){return(0,t.jsx)(ee,{children:e},`${e}-${n}`)}function er(){window.location.reload()}function ei(){let e,r,a,l,s,u,d,p,c=(0,n.c)(17),{t:f}=(0,i.useTranslation)(o.structureLocaleNamespace);return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(k.Box,{children:(0,t.jsx)(k.Text,{size:1,children:(0,t.jsx)(A.WarningOutlineIcon,{})})}),c[0]=e):e=c[0],c[1]!==f?(r=f("no-document-types-screen.title"),c[1]=f,c[2]=r):r=c[2],c[3]!==r?(a=(0,t.jsx)(k.Text,{as:"h1",size:1,weight:"medium",children:r}),c[3]=r,c[4]=a):a=c[4],c[5]!==f?(l=f("no-document-types-screen.subtitle"),c[5]=f,c[6]=l):l=c[6],c[7]!==l?(s=(0,t.jsx)(k.Text,{as:"p",muted:!0,size:1,children:l}),c[7]=l,c[8]=s):s=c[8],c[9]!==f?(u=f("no-document-types-screen.link-text"),c[9]=f,c[10]=u):u=c[10],c[11]!==u?(d=(0,t.jsx)(k.Text,{as:"p",muted:!0,size:1,children:(0,t.jsx)("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:u})}),c[11]=u,c[12]=d):d=c[12],c[13]!==a||c[14]!==s||c[15]!==d?(p=(0,t.jsx)(k.Card,{height:"fill",children:(0,t.jsx)(k.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,t.jsx)(k.Container,{width:0,children:(0,t.jsx)(k.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,t.jsxs)(k.Flex,{children:[e,(0,t.jsxs)(k.Stack,{flex:1,marginLeft:3,space:3,children:[a,s,d]})]})})})})}),c[13]=a,c[14]=s,c[15]=d,c[16]=p):p=c[16],p}let ea=e=>{let t,a,s=(0,n.c)(7),{documentId:u,documentType:d}=e,{selectedReleaseId:p}=(0,i.usePerspective)(),c=(0,i.useEditState)(u,d,"default",p),f=(0,i.useSchema)(),{t:m}=(0,i.useTranslation)(o.structureLocaleNamespace),h=!c?.published&&!c?.draft,x=c?.version||c?.draft||c?.published,g=f.get(d),{value:y,isLoading:I}=(0,i.useValuePreview)({enabled:!!x,schemaType:g,value:x}),{lastRevisionDocument:P}=(0,l.useDocumentLastRev)(u,d),v=P&&!x?"":h?m("browser-document-title.new-document",{schemaType:g?.title||g?.name}):y?.title||m("browser-document-title.untitled-document"),b=c.ready&&!I,w=es(v);return s[0]!==w||s[1]!==b?(t=()=>{b&&(document.title=w)},s[0]=w,s[1]=b,s[2]=t):t=s[2],s[3]!==v||s[4]!==w||s[5]!==b?(a=[v,b,w],s[3]=v,s[4]=w,s[5]=b,s[6]=a):a=s[6],(0,r.useEffect)(t,a),null},el=e=>{let t,i,a=(0,n.c)(5),{title:l}=e,o=es(l);return a[0]!==o?(t=()=>{document.title=o},a[0]=o,a[1]=t):t=a[1],a[2]!==o||a[3]!==l?(i=[o,l],a[2]=o,a[3]=l,a[4]=i):i=a[4],(0,r.useEffect)(t,i),null},eo=e=>{var r;let i,a=(0,n.c)(8),{resolvedPanes:o}=e;if(!o?.length)return null;let s=o[o.length-1];if(s===l.LOADING_PANE){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(el,{}),a[0]=e):e=a[0],e}if((r=s)!==l.LOADING_PANE&&"document"===r.type){let e;if(s?.title){let e;return a[1]!==s.title?(e=(0,t.jsx)(el,{title:s.title}),a[1]=s.title,a[2]=e):e=a[2],e}return a[3]!==s.options.id||a[4]!==s.options.type?(e=(0,t.jsx)(ea,{documentId:s.options.id,documentType:s.options.type}),a[3]=s.options.id,a[4]=s.options.type,a[5]=e):e=a[5],e}let u=s?.title;return a[6]!==u?(i=(0,t.jsx)(el,{title:u}),a[6]=u,a[7]=i):i=a[7],i};function es(e){let t,r=(0,n.c)(3),i=(0,l.useStructureTool)().structureContext.title;return r[0]!==e||r[1]!==i?(t=[e,i].filter(eu),r[0]=e,r[1]=i,r[2]=t):t=r[2],t.join(" | ")}function eu(e){return e}let ed=(0,$.styled)(l.PaneLayout)`
  min-height: 100%;
  min-width: 320px;
`,ep=(0,D.isHotkey)("mod+s"),ec=(0,r.memo)(function(e){let a,o,u,p,f,m,g,y,P,v,T,A,$,D,C,B,W,J,q,Y=(0,n.c)(58),{onPaneChange:Q}=e,{push:X}=(0,R.useToast)(),Z=(0,i.useSchema)(),{navigate:ee}=(0,s.useRouter)(),et=(0,s.useRouterState)(),{layoutCollapsed:en,setLayoutCollapsed:er}=(0,l.useStructureTool)(),ea=function(){let e,t,i,a,o,u=(0,n.c)(15),[p,f]=(0,r.useState)(),[m,g]=(0,r.useState)(null);if(p)throw p;let{structureContext:y,rootPaneNode:P}=(0,l.useStructureTool)();u[0]===Symbol.for("react.memo_cache_sentinel")?(e={paneDataItems:[],resolvedPanes:[],routerPanes:[]},u[0]=e):e=u[0];let[v,T]=(0,r.useState)(e),A=function(){let e,t,i,a=(0,n.c)(6),[l]=(0,r.useState)(K);a[0]!==l?(e=l.asObservable().pipe((0,b.map)(U)),a[0]=l,a[1]=e):e=a[1];let o=e,{state:u}=(0,s.useRouter)();return a[2]!==u||a[3]!==l?(t=()=>{l.next(u)},i=[u,l],a[2]=u,a[3]=l,a[4]=t,a[5]=i):(t=a[4],i=a[5]),(0,r.useEffect)(t,i),o}();if(u[1]!==P||u[2]!==A||u[3]!==y?(t=()=>{let e=(function({routerPanesStream:e,rootPaneNode:t,initialCacheState:n={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>h.NEVER},structureContext:r}){return e.pipe((0,b.map)(e=>[[{id:"root"}],...e]),(0,b.map)(e=>e.flatMap((e,t)=>e.map((e,n)=>({routerPaneSibling:e,groupIndex:t,siblingIndex:n}))).map((e,t)=>({...e,flatIndex:t}))),(0,w.startWith)([]),(0,j.operate)(function(e,t){var n,r=!1;e.subscribe((0,S.createOperatorSubscriber)(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))}),(0,b.map)(([e,t])=>{for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(!(0,d.isEqual)(r,i))return{flattenedRouterPanes:t,diffIndex:n}}return{flattenedRouterPanes:t,diffIndex:t.length}}),(0,_.scan)((e,t)=>{let{cacheKeysByFlatIndex:n,resolvedPaneCache:r}=e,{flattenedRouterPanes:i,diffIndex:a}=t,l=n.slice(0,a+1),o=n.slice(a+1),s=new Set(l.flatMap(e=>Array.from(e)));for(let e of o.flatMap(e=>Array.from(e)).filter(e=>!s.has(e)))r.delete(e);return{flattenedRouterPanes:i,cacheKeysByFlatIndex:n,resolvedPaneCache:r,resolvePane:M(e=>(t,i,a)=>{let l=t&&`${L(t)}-contextHash(${JSON.stringify({id:i.id,parentId:parent&&L(parent),path:i.path,index:i.index,splitIndex:i.splitIndex,serializeOptionsIndex:i.serializeOptions?.index,serializeOptionsPath:i.serializeOptions?.path})})`,o=l&&r.get(l);if(o)return o;let s=e(t,i,a);if(!l)return s;let u=n[a]||new Set;return u.add(l),n[a]=u,r.set(l,s),s})}},n),(0,I.switchMap)(({flattenedRouterPanes:e,resolvePane:n})=>(function e({unresolvedPane:t,flattenedRouterPanes:n,parent:r,path:i,resolvePane:a,structureContext:l}){let[o,...s]=n,u=s[0],d={id:o.routerPaneSibling.id,splitIndex:o.siblingIndex,parent:r,path:[...i,o.routerPaneSibling.id],index:o.flatIndex,params:o.routerPaneSibling.params||{},payload:o.routerPaneSibling.payload,structureContext:l};try{return a(t,d,o.flatIndex).pipe((0,I.switchMap)(n=>{let p,f={type:"resolvedMeta",...o,paneNode:n,path:d.path},m=s.map((e,t)=>({type:"loading",path:[...d.path,...s.slice(t).map((t,n)=>`[${e.flatIndex+n}]`)],paneNode:null,...e}));return s.length?(p=u?.routerPaneSibling.id.startsWith("__edit__")?e({unresolvedPane:F,flattenedRouterPanes:s,parent:r,path:d.path,resolvePane:a,structureContext:l}):o.groupIndex===u?.groupIndex?e({unresolvedPane:t,flattenedRouterPanes:s,parent:r,path:i,resolvePane:a,structureContext:l}):e({unresolvedPane:"function"==typeof n.child?G(n,"child"):n.child,flattenedRouterPanes:s,parent:n,path:d.path,resolvePane:a,structureContext:l}),(0,x.concat)((0,c.of)([f,...m]),p.pipe((0,b.map)(e=>[f,...e])))):(0,c.of)([f])}))}catch(e){if(e instanceof z&&(e.context&&console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex>0?` for split pane index ${e.context.splitIndex}`:""}: ${e.message}${e.helpId?` - see ${(0,N.generateHelpUrl)(e.helpId)}`:""}`,e),"structure-item-returned-no-child"===e.helpId))return(0,c.of)([]);throw e}})({unresolvedPane:t,flattenedRouterPanes:e,parent:null,path:[],resolvePane:n,structureContext:r}))).pipe((0,_.scan)((e,t)=>t.map((t,n)=>{let r=e[n];return r&&"loading"===t.type&&r.routerPaneSibling.id===t.routerPaneSibling.id?r:t}),[]),(0,E.distinctUntilChanged)((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(H(r)!==H(i))return!1}return!0}))})({rootPaneNode:P,routerPanesStream:A,structureContext:y}).pipe((0,b.map)(V)).subscribe({next:e=>T(e),error:e=>f(e)});return()=>e.unsubscribe()},i=[P,A,y],u[1]=P,u[2]=A,u[3]=y,u[4]=t,u[5]=i):(t=u[4],i=u[5]),(0,r.useEffect)(t,i),u[6]!==v.paneDataItems||u[7]!==m){let e;u[9]!==m?(e=e=>({...e,maximized:!!m&&e.key===m.key}),u[9]=m,u[10]=e):e=u[10],a=v.paneDataItems.map(e),u[6]=v.paneDataItems,u[7]=m,u[8]=a}else a=u[8];let k=a;return u[11]!==v||u[12]!==m||u[13]!==k?(o={...v,paneDataItems:k,maximizedPane:m,setMaximizedPane:g},u[11]=v,u[12]=m,u[13]=k,u[14]=o):o=u[14],o}(),{paneDataItems:el,resolvedPanes:es,setMaximizedPane:eu,maximizedPane:ec}=ea,ex=(0,s.useRouterState)(ef),{sanity:eI}=(0,k.useTheme)(),{media:eP}=eI,[ev,eb]=(0,r.useState)(null);Y[0]!==er?(a=()=>er(!0),Y[0]=er,Y[1]=a):a=Y[1];let ew=a;Y[2]!==er?(o=()=>er(!1),Y[2]=er,Y[3]=o):o=Y[3];let ej=o;if(Y[4]!==el){let e=el.findLastIndex(em);u=-1===e?el:el.slice(e).filter(t=>t.groupIndex<=el[e].groupIndex),Y[4]=el,Y[5]=u}else u=Y[5];let eS=u;Y[6]!==Q||Y[7]!==es?(p=()=>{es.length&&Q(es)},f=[Q,es],Y[6]=Q,Y[7]=es,Y[8]=p,Y[9]=f):(p=Y[8],f=Y[9]),(0,r.useEffect)(p,f),Y[10]!==X?(m=()=>{let e=e=>{ep(e)&&(e.preventDefault(),X({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},g=[X],Y[10]=X,Y[11]=m,Y[12]=g):(m=Y[11],g=Y[12]),(0,r.useEffect)(m,g);let e_=Z._original?.types.some(i._isCustomDocumentTypeDefinition);Y[13]!==ee||Y[14]!==et?.panes||Y[15]!==eu?(y=e=>{if(!e)return;let t=et?.panes||[];if(e.maximized){eu(null),ee({panes:t});return}if(e.pane!==l.LOADING_PANE&&"document"===e.pane.type){let n=t.slice(0,e.groupIndex);eu(e),ee({panes:n})}},Y[13]=ee,Y[14]=et?.panes,Y[15]=eu,Y[16]=y):y=Y[16];let eE=y,eT=(0,r.useRef)(-1);Y[17]!==ee||Y[18]!==el||Y[19]!==et?.panes||Y[20]!==eu?(P=()=>{let e=el.find(eh);e&&(e.pane!==l.LOADING_PANE&&"document"===e.pane.type&&eu(e),ee({panes:(et?.panes||[]).map(eg)},{replace:!0}))},Y[17]=ee,Y[18]=el,Y[19]=et?.panes,Y[20]=eu,Y[21]=P):P=Y[21];let eN=et?.panes;if(Y[22]!==ee||Y[23]!==el||Y[24]!==eu||Y[25]!==eN?(v=[ee,el,eN,eu],Y[22]=ee,Y[23]=el,Y[24]=eu,Y[25]=eN,Y[26]=v):v=Y[26],(0,r.useEffect)(P,v),Y[27]!==ec||Y[28]!==el||Y[29]!==eu?(T=()=>{let e=el.findIndex(ey),t=eT.current;if(eT.current=e,ec){if(ec.pane!==l.LOADING_PANE&&"document"!==ec.pane.type)return void eu(null);if(-1!==e&&e!==t)return void eu(el[e]);el.some(e=>e.key===ec.key)||eu(el.find(e=>e.groupIndex===ec.groupIndex&&e.siblingIndex===ec.siblingIndex&&e.pane!==l.LOADING_PANE&&"document"===e.pane.type)||null)}},A=[ec,el,eu],Y[27]=ec,Y[28]=el,Y[29]=eu,Y[30]=T,Y[31]=A):(T=Y[30],A=Y[31]),(0,r.useEffect)(T,A),!e_){let e;return Y[32]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(ei,{}),Y[32]=e):e=Y[32],e}let eA=ev||null,ek=en?void 0:"fill",eR=eP[1];if(Y[33]!==eE||Y[34]!==eS){let e;Y[36]!==eE?(e=e=>{let{active:n,childItemId:i,groupIndex:a,itemId:o,key:s,pane:u,index:d,params:p,path:c,payload:f,siblingIndex:m,selected:h,maximized:x}=e;return(0,t.jsx)(r.Fragment,{children:u===l.LOADING_PANE?(0,t.jsx)(l.LoadingPane,{paneKey:s,path:c,selected:h}):(0,t.jsx)(l.StructureToolPane,{active:n,groupIndex:a,index:d,pane:u,childItemId:i,itemId:o,paneKey:s,params:p,payload:f,path:c,selected:h,siblingIndex:m,maximized:x,onSetMaximizedPane:()=>eE(e)})},`${u===l.LOADING_PANE?"loading":u.type}-${d}`)},Y[36]=eE,Y[37]=e):e=Y[37],$=eS.map(e),Y[33]=eE,Y[34]=eS,Y[35]=$}else $=Y[35];return Y[38]!==ex||Y[39]!==el.length?(D=el.length<=1&&ex&&(0,t.jsx)(l.LoadingPane,{paneKey:"intent-resolver"}),Y[38]=ex,Y[39]=el.length,Y[40]=D):D=Y[40],Y[41]!==ew||Y[42]!==ej||Y[43]!==eP[1]||Y[44]!==ek||Y[45]!==$||Y[46]!==D?(C=(0,t.jsxs)(ed,{flex:1,height:ek,minWidth:eR,onCollapse:ew,onExpand:ej,children:[$,D]}),Y[41]=ew,Y[42]=ej,Y[43]=eP[1],Y[44]=ek,Y[45]=$,Y[46]=D,Y[47]=C):C=Y[47],Y[48]!==es?(B=(0,t.jsx)(eo,{resolvedPanes:es}),Y[48]=es,Y[49]=B):B=Y[49],Y[50]===Symbol.for("react.memo_cache_sentinel")?(W=(0,t.jsx)("div",{"data-portal":"",ref:eb}),Y[50]=W):W=Y[50],Y[51]!==eA||Y[52]!==C||Y[53]!==B?(J=(0,t.jsxs)(k.PortalProvider,{element:eA,children:[C,B,W]}),Y[51]=eA,Y[52]=C,Y[53]=B,Y[54]=J):J=Y[54],Y[55]!==ea||Y[56]!==J?(q=(0,t.jsx)(O.ResolvedPanesProvider,{value:ea,children:J}),Y[55]=ea,Y[56]=J,Y[57]=q):q=Y[57],q});function ef(e){return"string"==typeof e.intent}function em(e){return e.maximized}function eh(e){return e.params?.mode==="focus"}function ex(e){let{mode:t,...n}=e.params||{},r=Object.keys(n).length?n:void 0;return{...e,params:r}}function eg(e){return e.map(ex)}function ey(e){return e.selected}function eI(e){let s,u,d,p,c,f,m,h=(0,n.c)(14),{tool:x}=e,{options:g}=x,{unstable_sources:y}=(0,i.useWorkspace)(),[I]=y;h[0]!==g?(s=g||{},h[0]=g,h[1]=s):s=h[1];let{source:P,defaultDocumentNode:v,structure:b}=s;h[2]===Symbol.for("react.memo_cache_sentinel")?(u=[],h[2]=u):u=h[2],(0,r.useEffect)(eP,u),h[3]===Symbol.for("react.memo_cache_sentinel")?(d={error:null},h[3]=d):d=h[3];let[w,j]=(0,r.useState)(d),{error:S}=w;if(S){let e;return h[4]!==S?(e=(0,t.jsx)(et,{error:S}),h[4]=S,h[5]=e):e=h[5],e}let _=P||I.name;return h[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(ec,{onPaneChange:l.setActivePanes}),c=(0,t.jsx)(X,{}),h[6]=p,h[7]=c):(p=h[6],c=h[7]),h[8]!==v||h[9]!==b?(f=(0,t.jsxs)(o.StructureToolProvider,{defaultDocumentNode:v,structure:b,children:[p,c]}),h[8]=v,h[9]=b,h[10]=f):f=h[10],h[11]!==_||h[12]!==f?(m=(0,t.jsx)(a.ErrorBoundary,{onCatch:j,children:(0,t.jsx)(i.SourceProvider,{name:_,children:f})}),h[11]=_,h[12]=f,h[13]=m):m=h[13],m}function eP(){return(0,l.setActivePanes)([]),ev}function ev(){return(0,l.setActivePanes)([])}e.s(["default",()=>eI],83121)}]);